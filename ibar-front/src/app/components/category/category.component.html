<div>
  <div class="list-header p-d-flex p-ai-center">
    <h2 class="p-text-light">Showing all categories</h2>
    <button
      id="newCategory"
      class="p-button blue-button p-ml-auto"
      label="NEW CATEGORY"
      (click)="openAddDialog()"
      pButton
    ></button>
  </div>
  <div class="list-content">
    <app-category-list
      *ngFor="let category of categories"
      [category]="category"
      (categoryDeleted)="categoryDeletionConfirmed()"
      (clickEdit)="openAddDialog(true, $event)"
    >
    </app-category-list>
  </div>
  <p-dialog
    [modal]="true"
    [header]="editing ? 'Edit category' : 'Add a new category'"
    [(visible)]="isAddDialogOpen"
    (onHide)="onHideAddDialog()"
    [resizable]="false"
  >
    <div>
      <form (ngSubmit)="saveCategory()">
        <span class="p-float-label p-mt-5">
          <input
            type="text"
            id="name"
            name="email"
            autocomplete="off"
            [formControl]="nameControl"
            pInputText
          />
          <label for="name">Name</label>
        </span>
        <button
          type="submit"
          id="addCategory"
          class="p-button blue-button p-d-block p-ml-auto p-mt-4"
          label="Save"
          pButton
        ></button>
      </form>
    </div>
  </p-dialog>
</div>
